@import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap");

@import "tailwindcss";

/* --- Dark mode via .dark class --- */
@variant dark (&:where(.dark, .dark *));

/* --- Theme: custom colors, fonts, animations --- */
@theme {
    --color-brand-50: #f0f5ff;
    --color-brand-100: #e0eaff;
    --color-brand-200: #c2d5ff;
    --color-brand-300: #93b4ff;
    --color-brand-400: #6490ff;
    --color-brand-500: #3d6dff;
    --color-brand-600: #1a4fff;
    --color-brand-700: #0038e6;
    --color-brand-800: #002db8;
    --color-brand-900: #00228a;
    --color-brand-950: #001560;

    --font-sans: "Inter", system-ui, sans-serif;
    --font-mono: "JetBrains Mono", "Fira Code", monospace;

    --animate-fade-in: fadeIn 0.3s ease-out;
    --animate-slide-up: slideUp 0.3s ease-out;
    --animate-slide-in-right: slideInRight 0.3s ease-out;

    @keyframes fadeIn {
        0% {
            opacity: 0;
        }
        100% {
            opacity: 1;
        }
    }

    @keyframes slideUp {
        0% {
            opacity: 0;
            transform: translateY(12px);
        }
        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes slideInRight {
        0% {
            opacity: 0;
            transform: translateX(12px);
        }
        100% {
            opacity: 1;
            transform: translateX(0);
        }
    }
}

/* --- Base layer --- */
@layer base {
    * {
        @apply border-neutral-200 dark:border-neutral-700;
    }

    body {
        @apply bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100;
        font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    }

    ::-webkit-scrollbar {
        width: 6px;
        height: 6px;
    }

    ::-webkit-scrollbar-track {
        background: transparent;
    }

    ::-webkit-scrollbar-thumb {
        @apply bg-neutral-300 dark:bg-neutral-700 rounded-full;
    }

    ::-webkit-scrollbar-thumb:hover {
        @apply bg-neutral-400 dark:bg-neutral-600;
    }
}

/* --- Custom utility classes --- */
@utility glass {
    @apply bg-white/80 dark:bg-neutral-900/80 backdrop-blur-xl border border-neutral-200/60 dark:border-neutral-700/60;
}

@utility glass-strong {
    @apply bg-white/95 dark:bg-neutral-900/95 backdrop-blur-2xl border border-neutral-200/80 dark:border-neutral-700/80;
}

@utility input-base {
    @apply w-full rounded-xl border border-neutral-300 dark:border-neutral-600
        bg-white dark:bg-neutral-800/80
        px-4 py-3 text-sm
        placeholder:text-neutral-400 dark:placeholder:text-neutral-500
        focus:outline-none focus:ring-2 focus:ring-brand-500/40 focus:border-brand-500
        transition-all duration-200;
}

@utility btn-primary {
    @apply inline-flex items-center justify-center gap-2 rounded-xl
        bg-brand-600 hover:bg-brand-700 active:bg-brand-800
        text-white font-medium text-sm
        px-5 py-2.5
        shadow-sm hover:shadow-md
        transition-all duration-200
        disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-brand-600;
}

@utility btn-secondary {
    @apply inline-flex items-center justify-center gap-2 rounded-xl
        bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200 dark:hover:bg-neutral-700
        text-neutral-700 dark:text-neutral-300 font-medium text-sm
        px-5 py-2.5
        border border-neutral-200 dark:border-neutral-700
        transition-all duration-200
        disabled:opacity-50 disabled:cursor-not-allowed;
}

@utility btn-ghost {
    @apply inline-flex items-center justify-center gap-2 rounded-lg
        hover:bg-neutral-100 dark:hover:bg-neutral-800
        text-neutral-600 dark:text-neutral-400 text-sm
        px-3 py-2
        transition-all duration-200;
}

@utility drop-zone {
    @apply relative flex flex-col items-center justify-center gap-3 sm:gap-4
        rounded-xl sm:rounded-2xl border-2 border-dashed border-neutral-300 dark:border-neutral-600
        bg-neutral-50/50 dark:bg-neutral-800/30
        p-6 sm:p-12 text-center cursor-pointer
        hover:border-brand-400 hover:bg-brand-50/30 dark:hover:border-brand-500 dark:hover:bg-brand-950/20
        transition-all duration-300;
}

@utility drop-zone-active {
    @apply border-brand-500 bg-brand-50/50 dark:bg-brand-950/30
        ring-4 ring-brand-500/20
        scale-[1.01];
}

@utility tree-item {
    @apply flex items-center gap-2 px-3 py-1.5 rounded-lg
        hover:bg-neutral-100 dark:hover:bg-neutral-800/80
        cursor-pointer select-none
        transition-colors duration-150;
}

@utility tree-item-active {
    @apply bg-brand-50 dark:bg-brand-950/40
        text-brand-700 dark:text-brand-300
        hover:bg-brand-100 dark:hover:bg-brand-900/40;
}

@utility badge {
    @apply inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium;
}

@utility badge-info {
    @apply inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium
        bg-blue-50 text-blue-700 dark:bg-blue-950/50 dark:text-blue-300;
}

@utility badge-success {
    @apply inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium
        bg-emerald-50 text-emerald-700 dark:bg-emerald-950/50 dark:text-emerald-300;
}

@utility badge-warning {
    @apply inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium
        bg-amber-50 text-amber-700 dark:bg-amber-950/50 dark:text-amber-300;
}

/* --- Non-utility styles --- */
.syntax-highlighter {
    border-radius: 0.75rem !important;
    font-size: 0.8125rem !important;
    line-height: 1.6 !important;
}

.syntax-highlighter code {
    font-family: "JetBrains Mono", "Fira Code", monospace !important;
}

.drag-overlay {
    animation: fadeIn 0.15s ease-out;
}
